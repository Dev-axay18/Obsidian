# ðŸ’  Obsidian OS GRUB Configuration
# Boot configuration for Obsidian OS

set timeout=5
set default=0

# Load theme and graphics
loadfont unicode
set gfxmode=auto
set gfxpayload=keep
insmod gfxterm
insmod vbe
insmod vga
terminal_output gfxterm

# Load required modules
insmod part_msdos
insmod ext2
insmod fat
insmod iso9660

# Menu entry for Obsidian OS
menuentry "ðŸ’  Obsidian OS" {
    set root=(hd0,msdos1)
    linux /boot/kernel.bin root=/dev/sda1 rw quiet splash
    initrd /boot/initrd.img
}

# Menu entry for Obsidian OS (Safe Mode)
menuentry "ðŸ’  Obsidian OS (Safe Mode)" {
    set root=(hd0,msdos1)
    linux /boot/kernel.bin root=/dev/sda1 rw single
    initrd /boot/initrd.img
}

# Menu entry for Obsidian OS (Debug Mode)
menuentry "ðŸ’  Obsidian OS (Debug Mode)" {
    set root=(hd0,msdos1)
    linux /boot/kernel.bin root=/dev/sda1 rw debug
    initrd /boot/initrd.img
}

# Fallback to other operating systems
menuentry "Other Operating Systems" {
    configfile /boot/grub/grub.cfg
}

# Advanced options
submenu "Advanced Options" {
    menuentry "Memory Test" {
        linux16 /boot/memtest86+.bin
    }
    
    menuentry "Boot from CD/DVD" {
        set root=(cd0)
        chainloader +1
    }
    
    menuentry "Boot from USB" {
        set root=(hd1,msdos1)
        chainloader +1
    }
} 